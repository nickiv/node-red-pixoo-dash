<script type="text/javascript">
  RED.nodes.registerType("pixoo-dash-text", {
    category: "pixoo-dash",
    paletteLabel: "Pixoo Text",
    color: '#FF8C00',
    icon: "font-awesome/fa-text-width",
    defaults: {
      name: { value: "" },
      col: { value: 0, validate: RED.validators.number() },
      row: { value: 0, validate: RED.validators.number() },
      color: { value: "#FFFFFF" , validate: RED.validators.regex(/^#[0-9A-Fa-f]{6}$/) },
      config: { value: "", type: "pixoo-dash-config" }
    },
    inputs: 1,
    outputs: 1,
    label: function () {
      return this.name || "Pixoo Text " + this.col + ":" + this.row;
    }
  });
</script>

<script type="text/html" data-template-name="pixoo-dash-text">
  <div class="form-row">
    <label for="node-input-config">Config</label>
    <input type="text" id="node-input-config">
  </div>
  <div class="form-row">
    <label for="node-input-col">Column</label>
    <input type="text" id="node-input-col">
  </div>
  <div class="form-row">
    <label for="node-input-row">Row</label>
    <input type="text" id="node-input-row">
  </div>
  <div class="form-row">
    <label for="node-input-color">Color</label>
    <input type="text" id="node-input-color">
  </div>
  <div class="form-row">
    <label for="node-input-name">Name</label>
    <input type="text" type="text" id="node-input-name">
  </div>
</script>

<script type="text/html" data-help-name="pixoo-dash-text">
  <p>This node sets the value of a field on the dashboard to <i>msg.payload</i>.</p>
  <p>The field is specified by <b>Column</b> and <b>Row</b>. You can override the configured values using <i>msg.col</i> and <i>msg.row</i>.</p>
  <p>The text color of the field can be overridden with <i>msg.color</i>. In the latter you can also use: "white", "green", "red", "yellow", "cyan" and "orange".</p>
  <p>The dashboard content is refreshed with each message.</p>
  <p>In the output message <i>payload</i> will be either <pre>{error_code: 0}</pre> or an error message.</p>
</script>